(()=>{"use strict";var e,t={203:(e,t,a)=>{var r=a(223),s=a(594);const o=(0,r.Wp)({apiKey:"AIzaSyCtkDvbYbosr5ZhTh9g3VO1q7Fe45KvAqg",authDomain:"smash-karts-match-tracker.firebaseapp.com",projectId:"smash-karts-match-tracker",storageBucket:"smash-karts-match-tracker.firebasestorage.app",messagingSenderId:"324411303245",appId:"1:324411303245:web:caccc3059a3f929b7f0304"}),c=(0,s.aU)(o);chrome.runtime.onMessage.addListener(((e,t,a)=>{"matchComplete"===e.type&&async function(e){try{if(e.isSpecialMode){const t=c.collection("special_matches").doc();await t.set({...e,timestamp:firebase.firestore.FieldValue.serverTimestamp()})}else{const t=c.collection("matches").doc();await t.set({...e,timestamp:firebase.firestore.FieldValue.serverTimestamp()}),await async function(e){try{const t=c.collection("players").doc(e.skid),a=await t.get(),r=a.exists?a.data():{totalMatches:0,totalKills:0,totalDeaths:0,totalPowerUpsCollected:0,totalPowerUpsUsed:0,bestSmashStreak:0,specialModeMatches:0},s={totalMatches:r.totalMatches+1,totalKills:r.totalKills+e.kills,totalDeaths:r.totalDeaths+e.deaths,totalPowerUpsCollected:r.totalPowerUpsCollected+e.powerUpsCollected,totalPowerUpsUsed:r.totalPowerUpsUsed+e.powerUpsUsed,bestSmashStreak:Math.max(r.bestSmashStreak,Math.max(...e.smashStreaks.map((e=>e.type))))};await t.set(s,{merge:!0})}catch(e){console.error("Error updating player stats:",e)}}(e.playerStats)}}catch(e){console.error("Error storing match data:",e)}}(e.data)})),chrome.runtime.onInstalled.addListener((()=>{chrome.storage.local.set({settings:{enableTracking:!0,showNotifications:!0}})})),chrome.runtime.onUpdateAvailable.addListener((()=>{chrome.runtime.reload()}))}},a={};function r(e){var s=a[e];if(void 0!==s)return s.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,a,s,o)=>{if(!a){var c=1/0;for(h=0;h<e.length;h++){for(var[a,s,o]=e[h],i=!0,l=0;l<a.length;l++)(!1&o||c>=o)&&Object.keys(r.O).every((e=>r.O[e](a[l])))?a.splice(l--,1):(i=!1,o<c&&(c=o));if(i){e.splice(h--,1);var n=s();void 0!==n&&(t=n)}}return t}o=o||0;for(var h=e.length;h>0&&e[h-1][2]>o;h--)e[h]=e[h-1];e[h]=[a,s,o]},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={471:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var s,o,[c,i,l]=a,n=0;if(c.some((t=>0!==e[t]))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(l)var h=l(r)}for(t&&t(a);n<c.length;n++)o=c[n],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(h)},a=self.webpackChunksmash_karts_match_tracker=self.webpackChunksmash_karts_match_tracker||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var s=r.O(void 0,[520],(()=>r(203)));s=r.O(s)})();